<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¸é¾™å¹³æ°‘ç”µç«æŠ½å¥–ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            padding: 20px;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            width: 100%;
        }
        
        .lottery-area {
            flex: 1;
            min-width: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .prizes-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            width: 100%;
            margin-bottom: 30px;
        }
        
        .prize-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 180px;
        }
        
        .prize-card.active {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);
            border: 2px solid gold;
            background: rgba(255, 215, 0, 0.2);
        }
        
        .prize-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .prize-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        
        .btn {
            padding: 15px 40px;
            background: linear-gradient(45deg, #FF512F, #DD2476);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(221, 36, 118, 0.4);
            margin: 20px 0;
            letter-spacing: 1px;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(221, 36, 118, 0.6);
        }
        
        .btn:active {
            transform: translateY(2px);
        }
        
        .btn:disabled {
            background: linear-gradient(45deg, #6a6a6a, #9e9e9e);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-area {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .result-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            color: #FFD700;
        }
        
        .result-display {
            width: 100%;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .result-prize {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
            color: #FFD700;
        }
        
        .result-message {
            font-size: 1.2rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #FFD700;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .settings-area {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            margin-top: 40px;
        }
        
        .settings-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            color: #FFD700;
        }
        
        .password-section {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .password-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .password-input input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }
        
        .probability-controls {
            margin-top: 30px;
        }
        
        .probability-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .probability-item {
            display: flex;
            gap: 15px;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .probability-name {
            flex: 1;
            font-size: 1.1rem;
        }
        
        .probability-input {
            width: 100px;
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            text-align: center;
        }
        
        .probability-value {
            width: 60px;
            text-align: center;
            font-weight: bold;
        }
        
        .save-settings {
            padding: 15px 30px;
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
            margin-top: 20px;
            width: 100%;
        }
        
        .save-settings:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(33, 150, 243, 0.6);
        }
        
        .history-title {
            margin-top: 20px;
            font-size: 1.3rem;
            color: #FFD700;
        }
        
        .history-list {
            width: 100%;
            max-height: 150px;
            overflow-y: auto;
            margin-top: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 10px;
        }
        
        .history-item {
            padding: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        @media (max-width: 900px) {
            .content {
                flex-direction: column;
            }
            
            .lottery-area, .result-area {
                min-width: 100%;
            }
            
            .prizes-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 600px) {
            .prizes-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .probability-item {
                flex-direction: column;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s infinite;
        }
        
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #FFD700;
            opacity: 0;
        }
        
        .win-animation {
            animation: win 1.5s ease-out;
        }
        
        @keyframes win {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>æ¸¸é¾™å¹³æ°‘ç”µç«</h1>
            <div class="subtitle">è¯•è¯•ä½ çš„è¿æ°”ï¼Œèµ¢å–ç²¾ç¾å¥–å“ï¼</div>
        </header>
        
        <div class="content">
            <div class="lottery-area">
                <div class="prizes-grid" id="prizesGrid">
                    <!-- å¥–å“å¡ç‰‡å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="controls">
                    <button class="btn" id="startBtn">å¼€å§‹æŠ½å¥–</button>
                    
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-value" id="totalDraws">0</div>
                            <div class="stat-label">æ€»æŠ½å¥–æ¬¡æ•°</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="winRate">0%</div>
                            <div class="stat-label">ä¸­å¥–ç‡</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalWins">0</div>
                            <div class="stat-label">ä¸­å¥–æ¬¡æ•°</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="result-area">
                <div class="result-title">æŠ½å¥–ç»“æœ</div>
                
                <div class="result-display" id="resultDisplay">
                    <div class="result-message">ç‚¹å‡»å¼€å§‹æŒ‰é’®æŠ½å–å¥–å“</div>
                </div>
                
                <div class="history-title">æŠ½å¥–å†å²</div>
                <div class="history-list" id="historyList">
                    <!-- å†å²è®°å½•å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
        
        <div class="settings-area">
            <div class="settings-title">æŠ½å¥–è®¾ç½®</div>
            
            <div class="password-section">
                <h3>å¯†ç éªŒè¯</h3>
                <p>è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ä»¥ä¿®æ”¹æ¦‚ç‡è®¾ç½®</p>
                <div class="password-input">
                    <input type="password" id="passwordInput" placeholder="è¯·è¾“å…¥å¯†ç ">
                    <button class="btn" id="verifyPassword">éªŒè¯</button>
                </div>
            </div>
            
            <div class="probability-controls" id="probabilityControls" style="display: none;">
                <h3>æ¦‚ç‡è®¾ç½®</h3>
                <p>è¾“å…¥å„å¥–å“çš„ä¸­å¥–æ¦‚ç‡ï¼ˆä»»æ„æ•°å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—æ¯”ä¾‹ï¼‰</p>
                
                <div class="probability-list" id="probabilityList">
                    <!-- æ¦‚ç‡è®¾ç½®é¡¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <button class="save-settings" id="saveSettings">ä¿å­˜è®¾ç½®</button>
            </div>
        </div>
    </div>

    <script>
        // å¥–å“é…ç½® - å¢åŠ åˆ°10ä¸ªå¥–å“
        let prizes = [
            { id: 1, name: "éšæœºä¼ ä¸–æ­¦å™¨", probability: 5, icon: "ğŸ†", color: "#FFD700" },
            { id: 2, name: "éšæœºé‡‘æª/ç”²/å¤´/åŒ…", probability: 10, icon: "ğŸ®", color: "#C0C0C0" },
            { id: 3, name: "å“è¶Šå¦¹æ§", probability: 15, icon: "ğŸ§", color: "#CD7F32" },
            { id: 4, name: "å“è¶ŠMG3", probability: 20, icon: "â˜•", color: "#4CAF50" },
            { id: 5, name: "7å¤´", probability: 25, icon: "ğŸ«", color: "#FF9800" },
            { id: 6, name: "7ç”²", probability: 30, icon: "ğŸ“š", color: "#9C27B0" },
            { id: 7, name: "7åŒ…", probability: 35, icon: "ğŸ¨", color: "#00BCD4" },
            { id: 8, name: "6å¤´", probability: 40, icon: "ğŸ­", color: "#FF5722" },
            { id: 9, name: "6ç”²", probability: 45, icon: "ğŸª", color: "#607D8B" },
            { id: 10, name: "6åŒ…", probability: 25, icon: "ğŸ˜Š", color: "#9E9E9E" }
        ];
        
        // åˆå§‹åŒ–å˜é‡
        let isDrawing = false;
        let drawHistory = [];
        let totalDraws = 0;
        let totalWins = 0;
        
        // å¯†ç è®¾ç½®
        const ADMIN_PASSWORD = "admin123"; // å¯ä»¥ä¿®æ”¹æ­¤å¯†ç 
        
        // DOMå…ƒç´ 
        const prizesGrid = document.getElementById('prizesGrid');
        const startBtn = document.getElementById('startBtn');
        const resultDisplay = document.getElementById('resultDisplay');
        const historyList = document.getElementById('historyList');
        const totalDrawsElement = document.getElementById('totalDraws');
        const winRateElement = document.getElementById('winRate');
        const totalWinsElement = document.getElementById('totalWins');
        const passwordInput = document.getElementById('passwordInput');
        const verifyPasswordBtn = document.getElementById('verifyPassword');
        const probabilityControls = document.getElementById('probabilityControls');
        const probabilityList = document.getElementById('probabilityList');
        const saveSettingsBtn = document.getElementById('saveSettings');
        
        // åˆå§‹åŒ–æŠ½å¥–ç³»ç»Ÿ
        function initLottery() {
            renderPrizes();
            updateStats();
        }
        
        // æ¸²æŸ“å¥–å“å¡ç‰‡
        function renderPrizes() {
            prizesGrid.innerHTML = '';
            
            prizes.forEach(prize => {
                const card = document.createElement('div');
                card.className = 'prize-card';
                card.dataset.id = prize.id;
                card.innerHTML = `
                    <div class="prize-icon">${prize.icon}</div>
                    <div class="prize-name">${prize.name}</div>
                `;
                prizesGrid.appendChild(card);
            });
        }
        
        // æ¸²æŸ“æ¦‚ç‡è®¾ç½®
        function renderProbabilityControls() {
            probabilityList.innerHTML = '';
            
            prizes.forEach(prize => {
                const probabilityItem = document.createElement('div');
                probabilityItem.className = 'probability-item';
                probabilityItem.innerHTML = `
                    <div class="probability-name">${prize.icon} ${prize.name}</div>
                    <input type="number" class="probability-input" min="0" step="0.1" value="${prize.probability}" data-id="${prize.id}">
                    <div class="probability-value">æƒé‡</div>
                `;
                probabilityList.appendChild(probabilityItem);
            });
        }
        
        // ä¿å­˜è®¾ç½®
        function saveSettings() {
            // è·å–æ‰€æœ‰è®¾ç½®é¡¹çš„å€¼
            const inputs = document.querySelectorAll('.probability-input');
            
            // æ›´æ–°å¥–å“æ•°æ®
            inputs.forEach(input => {
                const id = parseInt(input.dataset.id);
                const probability = parseFloat(input.value) || 0;
                
                const prize = prizes.find(p => p.id === id);
                if (prize) {
                    prize.probability = probability;
                }
            });
            
            alert('è®¾ç½®ä¿å­˜æˆåŠŸï¼');
        }
        
        // æŠ½å¥–å‡½æ•°
        function drawLottery() {
            if (isDrawing) return;
            
            isDrawing = true;
            startBtn.disabled = true;
            resultDisplay.innerHTML = '<div class="result-message">æŠ½å¥–ä¸­...</div>';
            
            // æ¸…é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.prize-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // è®¡ç®—æ€»æ¦‚ç‡
            const totalProbability = prizes.reduce((sum, prize) => sum + prize.probability, 0);
            
            // å¦‚æœæ€»æ¦‚ç‡ä¸º0ï¼Œåˆ™æ‰€æœ‰å¥–å“ç­‰æ¦‚ç‡
            if (totalProbability === 0) {
                const equalProbability = 1 / prizes.length;
                prizes.forEach(prize => {
                    prize.normalizedProbability = equalProbability;
                });
            } else {
                // å¦åˆ™æŒ‰æƒé‡è®¡ç®—æ¦‚ç‡
                prizes.forEach(prize => {
                    prize.normalizedProbability = prize.probability / totalProbability;
                });
            }
            
            // åŸºäºæ¦‚ç‡éšæœºé€‰æ‹©å¥–å“
            const random = Math.random();
            let cumulativeProbability = 0;
            let selectedPrize = null;
            
            for (const prize of prizes) {
                cumulativeProbability += prize.normalizedProbability;
                if (random <= cumulativeProbability) {
                    selectedPrize = prize;
                    break;
                }
            }
            
            // æŠ½å¥–åŠ¨ç”»
            let currentIndex = 0;
            const totalSteps = 30;
            const intervalTime = 100;
            
            const animationInterval = setInterval(() => {
                // ç§»é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
                document.querySelectorAll('.prize-card').forEach(card => {
                    card.classList.remove('active');
                });
                
                // æ¿€æ´»å½“å‰å¡ç‰‡
                const currentCard = document.querySelector(`.prize-card[data-id="${prizes[currentIndex % prizes.length].id}"]`);
                currentCard.classList.add('active');
                
                currentIndex++;
                
                // åŠ¨ç”»ç»“æŸ
                if (currentIndex > totalSteps) {
                    clearInterval(animationInterval);
                    
                    // æ¿€æ´»æœ€ç»ˆé€‰ä¸­çš„å¥–å“
                    document.querySelectorAll('.prize-card').forEach(card => {
                        card.classList.remove('active');
                    });
                    
                    const finalCard = document.querySelector(`.prize-card[data-id="${selectedPrize.id}"]`);
                    finalCard.classList.add('active');
                    
                    // æ˜¾ç¤ºç»“æœ
                    setTimeout(() => {
                        showResult(selectedPrize);
                        isDrawing = false;
                        startBtn.disabled = false;
                    }, 500);
                }
            }, intervalTime);
        }
        
        // æ˜¾ç¤ºç»“æœ
        function showResult(prize) {
            // æ›´æ–°ç»Ÿè®¡æ•°æ®
            totalDraws++;
            if (prize.name !== "è°¢è°¢å‚ä¸") {
                totalWins++;
            }
            
            // æ·»åŠ å†å²è®°å½•
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            historyItem.textContent = `${new Date().toLocaleTimeString()} - ${prize.icon} ${prize.name}`;
            historyList.prepend(historyItem);
            
            // é™åˆ¶å†å²è®°å½•æ•°é‡
            if (historyList.children.length > 10) {
                historyList.removeChild(historyList.lastChild);
            }
            
            // æ›´æ–°ç»Ÿè®¡æ˜¾ç¤º
updateStats()ï¼›
            
// æ˜¾ç¤ºç»“æœ
resultDisplay.innerHTML='
<div class="result-message">æ­å–œæ‚¨è·å¾—</div>
<div class="result-prize win-animation">${prize.icon}${prize.name}</div>
<div class="result-message">${prize.name==="è°¢è°¢å‚ä¸"ï¼Ÿ'ä¸‹æ¬¡å¥½è¿ï¼'ï¼š'å¤ªæ£’äº†ï¼'}</div>
`;
            
// æ·»åŠ åº†ç¥æ•ˆæœ
if(prize.nameï¼=="è°¢è°¢å‚ä¸"){
createConfetti()ï¼›
            }
            
// ä¿å­˜åˆ°å†å²è®°å½•æ•°ç»„
drawHistory.unshift({
æ—¶é—´ï¼šæ–°æ—¥æœŸ().toLocaleString()ï¼Œ
prize:prize.nameï¼Œ
å›¾æ ‡ï¼šprize.icon
            });
        }
        
// æ›´æ–°ç»Ÿè®¡æ•°æ®
å‡½æ•°updateStats(){
totalDrawsElement.textContent=totalDrawsï¼›
totalWinsElement.textContent=totalWinsï¼›
Const winrate=totalDraws>0ï¼Ÿ(total Wins/totalDraws*100).ToFixed(1)ï¼š0ï¼›
winRateElement.textContent=â€œ${winrate}%â€ï¼›
        }
        
// åˆ›å»ºå½©è‰²çº¸å±‘æ•ˆæœ
å‡½æ•°createConfetti(){
Const colors=['#FFD700'ï¼Œ'#C0C0C0'ï¼Œ'#ff9800'ï¼Œ'#4CAF50'ï¼Œ'#2196F3'ï¼Œ'#9C27B0']ï¼›
            
for(è®¾i=0ï¼›i<100ï¼›i++){
Const Confetti=document.createElement('div')ï¼›
confetti.className='confetti'ï¼›
cfetti.style.left='${Math.random()*100}vw'ï¼›
äº”å½©çº¸å±‘.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)]ï¼›
confetti.style.animation='confetti${Math.random()*3+2}sçº¿æ€§å‘å‰'ï¼›
confetti.style.animationDelay='${Math.random()*0.5}s'ï¼›
document.body.appendChild(äº”å½©çº¸å±‘)ï¼›
                
setTimeout(()=>{
cfetti.remove()ï¼›
}, 5000);
            }
        }
        
// éªŒè¯å¯†ç 
å‡½æ•°verifyPassword(){
Const password=passwordInput.valueï¼›
if(å¯†ç ===ADMIN_PASSWORD){
probabilityControls.style.display='block'ï¼›
renderProbabilityControls()ï¼›
passwordInput.value="ï¼›
è­¦æƒ•çš„('å¯†ç éªŒè¯æˆåŠŸï¼ç°åœ¨å¯ä»¥ä¿®æ”¹æ¦‚ç‡è®¾ç½®äº†ã€‚')ï¼›
}else{
è­¦æƒ•çš„('å¯†ç é”™è¯¯ï¼')ï¼›
passwordInput.value="ï¼›
            }
        }
        
// äº‹ä»¶ç›‘å¬
startBtn.addEventListener('click'ï¼ŒdrawLottery)ï¼›
        
verifyPasswordBtn.addEventListener('click'ï¼ŒverifyPassword)ï¼›
        
saveSettingsBtn.addEventListener('click'ï¼ŒSaveSettings)ï¼›
        
// åˆå§‹åŒ–
initLottery()ï¼›
</script>
</body>
</html>
